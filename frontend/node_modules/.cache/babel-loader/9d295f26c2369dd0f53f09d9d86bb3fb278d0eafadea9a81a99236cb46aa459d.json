{"ast":null,"code":"import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddAssignmentToCourse=_ref=>{let{title,setTitle,description,setDescription,selectCourse,assignmentDispatch,collectAssignments,handleSelectCourse}=_ref;const[saveAssignmentId,setSaveAssignmentId]=useState(\"\");const handleAddNewAssignment=async e=>{e.preventDefault();const course=selectCourse;const newAssignment={title,description,course};const response=await fetch(\"/api/assignments\",{method:\"POST\",body:JSON.stringify(newAssignment),headers:{\"Content-Type\":\"application/json\"}});const json=await response.json();console.log(json);if(!response.ok){console.log(json.error);}if(response.ok){setTitle(\"\");setDescription(\"\");assignmentDispatch({type:\"CREATE_ASSIGNMENT\",payload:json});}handleSelectCourse(course._id);};const handleSelectAssignment=assignmentId=>{setSaveAssignmentId(assignmentId);};const handleDeleteAssignment=async e=>{e.preventDefault();const assignmentId=saveAssignmentId;console.log(\"DELETE THIS COURSE\",saveAssignmentId);const response=await fetch(\"/api/assignments/\".concat(assignmentId),{method:\"DELETE\"});const json=await response.json();console.log(json);if(!response.ok){console.log(json.error);}if(response.ok){assignmentDispatch({type:\"DELETE_ASSIGNMENT\",payload:json});}handleSelectCourse(selectCourse._id);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form assignments\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add an Assignment\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>handleAddNewAssignment(e),children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setTitle(e.target.value);},placeholder:\"Title\",value:title}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setDescription(e.target.value);},placeholder:\"Description\",value:description}),/*#__PURE__*/_jsx(\"button\",{children:\"Add\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Delete an Assignment \"}),/*#__PURE__*/_jsxs(\"form\",{className:\"delete-form-page\",onSubmit:e=>{handleDeleteAssignment(e);},children:[/*#__PURE__*/_jsx(\"select\",{onChange:e=>handleSelectAssignment(e.target.value),children:collectAssignments&&collectAssignments.map(assignment=>/*#__PURE__*/_jsx(\"option\",{value:assignment._id,children:assignment.title},assignment._id))}),/*#__PURE__*/_jsx(\"button\",{children:\"Delete\"})]})]});};export default AddAssignmentToCourse;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddAssignmentToCourse","_ref","title","setTitle","description","setDescription","selectCourse","assignmentDispatch","collectAssignments","handleSelectCourse","saveAssignmentId","setSaveAssignmentId","handleAddNewAssignment","e","preventDefault","course","newAssignment","response","fetch","method","body","JSON","stringify","headers","json","console","log","ok","error","type","payload","_id","handleSelectAssignment","assignmentId","handleDeleteAssignment","concat","children","className","onSubmit","onChange","target","value","placeholder","map","assignment"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/frontend/src/components/popupAddAssignmentToCourse.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst AddAssignmentToCourse = ({\r\n  title,\r\n  setTitle,\r\n  description,\r\n  setDescription,\r\n  selectCourse,\r\n  assignmentDispatch,\r\n  collectAssignments,\r\n  handleSelectCourse,\r\n}) => {\r\n  const [saveAssignmentId, setSaveAssignmentId] = useState(\"\");\r\n\r\n  const handleAddNewAssignment = async (e) => {\r\n    e.preventDefault();\r\n    const course = selectCourse;\r\n    const newAssignment = { title, description, course };\r\n\r\n    const response = await fetch(\"/api/assignments\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(newAssignment),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    const json = await response.json();\r\n\r\n    console.log(json);\r\n    if (!response.ok) {\r\n      console.log(json.error);\r\n    }\r\n    if (response.ok) {\r\n      setTitle(\"\");\r\n      setDescription(\"\");\r\n      assignmentDispatch({ type: \"CREATE_ASSIGNMENT\", payload: json });\r\n    }\r\n    handleSelectCourse(course._id);\r\n  };\r\n\r\n  const handleSelectAssignment = (assignmentId) => {\r\n    setSaveAssignmentId(assignmentId);\r\n  };\r\n\r\n  const handleDeleteAssignment = async (e) => {\r\n    e.preventDefault();\r\n    const assignmentId = saveAssignmentId;\r\n    console.log(\"DELETE THIS COURSE\", saveAssignmentId);\r\n    const response = await fetch(`/api/assignments/${assignmentId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n\r\n    const json = await response.json();\r\n\r\n    console.log(json);\r\n    if (!response.ok) {\r\n      console.log(json.error);\r\n    }\r\n    if (response.ok) {\r\n      assignmentDispatch({ type: \"DELETE_ASSIGNMENT\", payload: json });\r\n    }\r\n    handleSelectCourse(selectCourse._id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form assignments\">\r\n        <h2>Add an Assignment</h2>\r\n        <form onSubmit={(e) => handleAddNewAssignment(e)}>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => {\r\n              setTitle(e.target.value);\r\n            }}\r\n            placeholder=\"Title\"\r\n            value={title}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => {\r\n              setDescription(e.target.value);\r\n            }}\r\n            placeholder=\"Description\"\r\n            value={description}\r\n          />\r\n          <button>Add</button>\r\n        </form>\r\n      </div>\r\n      <h2>Delete an Assignment </h2>\r\n      <form\r\n        className=\"delete-form-page\"\r\n        onSubmit={(e) => {\r\n          handleDeleteAssignment(e);\r\n        }}\r\n      >\r\n        <select onChange={(e) => handleSelectAssignment(e.target.value)}>\r\n          {collectAssignments &&\r\n            collectAssignments.map((assignment) => (\r\n              <option key={assignment._id} value={assignment._id}>\r\n                {assignment.title}\r\n              </option>\r\n            ))}\r\n        </select>\r\n        <button>Delete</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddAssignmentToCourse;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}