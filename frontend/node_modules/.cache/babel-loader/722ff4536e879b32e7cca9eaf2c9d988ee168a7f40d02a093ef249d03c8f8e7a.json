{"ast":null,"code":"import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PopupDeleteCourseFromStudent=_ref=>{let{showDel,setShowDel,thisStudent,setError,setCourseToViewAddDelete,handlePopupHide,studentDispatch}=_ref;const handleDeleteCourseFromStudent=async courseId=>{setCourseToViewAddDelete(courseId);const studentId=thisStudent._id;const response=await fetch(\"/api/students/deletecourse/\".concat(studentId),{method:\"PATCH\",body:JSON.stringify({courseId}),headers:{\"Content-Type\":\"application/json\"}});const json=await response.json();console.log(\"JSON\",json);if(!response.ok){setError(json.error);}else{setError(null);setShowDel(false);studentDispatch({type:\"DROP_COURSE_STUDENT\",payload:{studentIdDrop:studentId,courseIdDrop:courseId}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",style:{display:showDel?\"flex\":\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"close\",onClick:handlePopupHide,children:\"close\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[thisStudent.name,\":\"]}),thisStudent.courses&&thisStudent.courses.map(course=>/*#__PURE__*/_jsx(\"div\",{className:\"clickRemoveCourse\",onClick:e=>handleDeleteCourseFromStudent(course._id),children:course.title},course._id))]});};export default PopupDeleteCourseFromStudent;","map":{"version":3,"names":["PopupDeleteCourseFromStudent","_ref","showDel","setShowDel","thisStudent","setError","setCourseToViewAddDelete","handlePopupHide","studentDispatch","handleDeleteCourseFromStudent","courseId","studentId","_id","response","fetch","concat","method","body","JSON","stringify","headers","json","console","log","ok","error","type","payload","studentIdDrop","courseIdDrop","_jsxs","className","style","display","children","_jsx","onClick","name","courses","map","course","e","title"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/src/components/popupDeleteCourseFromStudent.js"],"sourcesContent":["const PopupDeleteCourseFromStudent = ({\r\n  showDel,\r\n  setShowDel,\r\n  thisStudent,\r\n  setError,\r\n  setCourseToViewAddDelete,\r\n  handlePopupHide,\r\n  studentDispatch,\r\n}) => {\r\n  const handleDeleteCourseFromStudent = async (courseId) => {\r\n    setCourseToViewAddDelete(courseId);\r\n    const studentId = thisStudent._id;\r\n\r\n    const response = await fetch(`/api/students/deletecourse/${studentId}`, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify({ courseId }),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    const json = await response.json();\r\n    console.log(\"JSON\", json);\r\n\r\n    if (!response.ok) {\r\n      setError(json.error);\r\n    } else {\r\n      setError(null);\r\n      setShowDel(false);\r\n      studentDispatch({\r\n        type: \"DROP_COURSE_STUDENT\",\r\n        payload: { studentIdDrop: studentId, courseIdDrop: courseId },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup\" style={{ display: showDel ? \"flex\" : \"none\" }}>\r\n      <div className=\"close\" onClick={handlePopupHide}>\r\n        close\r\n      </div>\r\n      <h2>{thisStudent.name}:</h2>\r\n      {thisStudent.courses &&\r\n        thisStudent.courses.map((course) => (\r\n          <div\r\n            className=\"clickRemoveCourse\"\r\n            key={course._id}\r\n            onClick={(e) => handleDeleteCourseFromStudent(course._id)}\r\n          >\r\n            {course.title}\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupDeleteCourseFromStudent;\r\n"],"mappings":"yDAAA,KAAM,CAAAA,4BAA4B,CAAGC,IAAA,EAQ/B,IARgC,CACpCC,OAAO,CACPC,UAAU,CACVC,WAAW,CACXC,QAAQ,CACRC,wBAAwB,CACxBC,eAAe,CACfC,eACF,CAAC,CAAAP,IAAA,CACC,KAAM,CAAAQ,6BAA6B,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACxDJ,wBAAwB,CAACI,QAAQ,CAAC,CAClC,KAAM,CAAAC,SAAS,CAAGP,WAAW,CAACQ,GAAG,CAEjC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,+BAAAC,MAAA,CAA+BJ,SAAS,EAAI,CACtEK,MAAM,CAAE,OAAO,CACfC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAET,QAAS,CAAC,CAAC,CAClCU,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAEF,IAAI,CAAC,CAEzB,GAAI,CAACR,QAAQ,CAACW,EAAE,CAAE,CAChBnB,QAAQ,CAACgB,IAAI,CAACI,KAAK,CAAC,CACtB,CAAC,IAAM,CACLpB,QAAQ,CAAC,IAAI,CAAC,CACdF,UAAU,CAAC,KAAK,CAAC,CACjBK,eAAe,CAAC,CACdkB,IAAI,CAAE,qBAAqB,CAC3BC,OAAO,CAAE,CAAEC,aAAa,CAAEjB,SAAS,CAAEkB,YAAY,CAAEnB,QAAS,CAC9D,CAAC,CAAC,CACJ,CACF,CAAC,CAED,mBACEoB,KAAA,QAAKC,SAAS,CAAC,OAAO,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE/B,OAAO,CAAG,MAAM,CAAG,MAAO,CAAE,CAAAgC,QAAA,eACnEC,IAAA,QAAKJ,SAAS,CAAC,OAAO,CAACK,OAAO,CAAE7B,eAAgB,CAAA2B,QAAA,CAAC,OAEjD,CAAK,CAAC,cACNJ,KAAA,OAAAI,QAAA,EAAK9B,WAAW,CAACiC,IAAI,CAAC,GAAC,EAAI,CAAC,CAC3BjC,WAAW,CAACkC,OAAO,EAClBlC,WAAW,CAACkC,OAAO,CAACC,GAAG,CAAEC,MAAM,eAC7BL,IAAA,QACEJ,SAAS,CAAC,mBAAmB,CAE7BK,OAAO,CAAGK,CAAC,EAAKhC,6BAA6B,CAAC+B,MAAM,CAAC5B,GAAG,CAAE,CAAAsB,QAAA,CAEzDM,MAAM,CAACE,KAAK,EAHRF,MAAM,CAAC5B,GAIT,CACN,CAAC,EACD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}