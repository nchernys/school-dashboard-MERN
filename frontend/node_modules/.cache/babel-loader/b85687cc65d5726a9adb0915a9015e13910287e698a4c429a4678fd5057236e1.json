{"ast":null,"code":"import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddStudentForm=_ref=>{let{setName,setYear,setMajor,name,year,major,studentDispatch}=_ref;const[error,setError]=useState(null);const handleAddStudent=async e=>{e.preventDefault();const newStudent={name,major,year};const response=await fetch(\"/api/students\",{method:\"POST\",body:JSON.stringify(newStudent),headers:{\"Content-Type\":\"application/json\"}});const json=await response.json();console.log(json);if(!response.ok){setError(json.error);}if(response.ok){setName(\"\");setMajor(\"\");setYear(\"\");setError(null);console.log(json,\"new student created\");studentDispatch({type:\"CREATE_STUDENT\",payload:json});}};return/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddStudent,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setName(e.target.value);},placeholder:\"Name\",value:name}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setYear(e.target.value);},placeholder:\"Birth Year\",value:year}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setMajor(e.target.value);},placeholder:\"Major\",value:major}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Student\"})]})});};export default AddStudentForm;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","AddStudentForm","_ref","setName","setYear","setMajor","name","year","major","studentDispatch","error","setError","handleAddStudent","e","preventDefault","newStudent","response","fetch","method","body","JSON","stringify","headers","json","console","log","ok","type","payload","className","children","onSubmit","onChange","target","value","placeholder"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/frontend/src/components/addStudentForm.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst AddStudentForm = ({\r\n  setName,\r\n  setYear,\r\n  setMajor,\r\n  name,\r\n  year,\r\n  major,\r\n  studentDispatch,\r\n}) => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleAddStudent = async (e) => {\r\n    e.preventDefault();\r\n    const newStudent = { name, major, year };\r\n\r\n    const response = await fetch(\"/api/students\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(newStudent),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    const json = await response.json();\r\n\r\n    console.log(json);\r\n    if (!response.ok) {\r\n      setError(json.error);\r\n    }\r\n    if (response.ok) {\r\n      setName(\"\");\r\n      setMajor(\"\");\r\n      setYear(\"\");\r\n      setError(null);\r\n      console.log(json, \"new student created\");\r\n      studentDispatch({ type: \"CREATE_STUDENT\", payload: json });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"form\">\r\n      <form onSubmit={handleAddStudent}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setName(e.target.value);\r\n          }}\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setYear(e.target.value);\r\n          }}\r\n          placeholder=\"Birth Year\"\r\n          value={year}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setMajor(e.target.value);\r\n          }}\r\n          placeholder=\"Major\"\r\n          value={major}\r\n        />\r\n\r\n        <button>Add Student</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddStudentForm;\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAQjB,IARkB,CACtBC,OAAO,CACPC,OAAO,CACPC,QAAQ,CACRC,IAAI,CACJC,IAAI,CACJC,KAAK,CACLC,eACF,CAAC,CAAAP,IAAA,CACC,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAgB,gBAAgB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACpCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,UAAU,CAAG,CAAET,IAAI,CAAEE,KAAK,CAAED,IAAK,CAAC,CAExC,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAE,CAC5CC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACN,UAAU,CAAC,CAChCO,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAElCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAI,CAACP,QAAQ,CAACU,EAAE,CAAE,CAChBf,QAAQ,CAACY,IAAI,CAACb,KAAK,CAAC,CACtB,CACA,GAAIM,QAAQ,CAACU,EAAE,CAAE,CACfvB,OAAO,CAAC,EAAE,CAAC,CACXE,QAAQ,CAAC,EAAE,CAAC,CACZD,OAAO,CAAC,EAAE,CAAC,CACXO,QAAQ,CAAC,IAAI,CAAC,CACda,OAAO,CAACC,GAAG,CAACF,IAAI,CAAE,qBAAqB,CAAC,CACxCd,eAAe,CAAC,CAAEkB,IAAI,CAAE,gBAAgB,CAAEC,OAAO,CAAEL,IAAK,CAAC,CAAC,CAC5D,CACF,CAAC,CACD,mBACEzB,IAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB9B,KAAA,SAAM+B,QAAQ,CAAEnB,gBAAiB,CAAAkB,QAAA,eAC/BhC,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXK,QAAQ,CAAGnB,CAAC,EAAK,CACfV,OAAO,CAACU,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAC,CACzB,CAAE,CACFC,WAAW,CAAC,MAAM,CAClBD,KAAK,CAAE5B,IAAK,CACb,CAAC,cACFR,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXK,QAAQ,CAAGnB,CAAC,EAAK,CACfT,OAAO,CAACS,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAC,CACzB,CAAE,CACFC,WAAW,CAAC,YAAY,CACxBD,KAAK,CAAE3B,IAAK,CACb,CAAC,cACFT,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXK,QAAQ,CAAGnB,CAAC,EAAK,CACfR,QAAQ,CAACQ,CAAC,CAACoB,MAAM,CAACC,KAAK,CAAC,CAC1B,CAAE,CACFC,WAAW,CAAC,OAAO,CACnBD,KAAK,CAAE1B,KAAM,CACd,CAAC,cAEFV,IAAA,WAAAgC,QAAA,CAAQ,aAAW,CAAQ,CAAC,EACxB,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}