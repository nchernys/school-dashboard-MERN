{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chernysn\\\\Documents\\\\GITHUB_COPIES\\\\MERN_school_dashboard\\\\frontend\\\\src\\\\components\\\\popupDeleteCourseFromStudent.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PopupDeleteCourseFromStudent = ({\n  showDel,\n  setShowDel,\n  thisStudent,\n  setError,\n  setCourseToViewAddDelete,\n  handlePopupHide,\n  studentDispatch\n}) => {\n  const handleDeleteCourseFromStudent = async courseId => {\n    setCourseToViewAddDelete(courseId);\n    const studentId = thisStudent._id;\n    const response = await fetch(`/api/students/deletecourse/${studentId}`, {\n      method: \"PATCH\",\n      body: JSON.stringify({\n        courseId\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const json = await response.json();\n    console.log(\"JSON\", json);\n    if (!response.ok) {\n      setError(json.error);\n    } else {\n      setError(null);\n      setShowDel(false);\n      studentDispatch({\n        type: \"DROP_COURSE_STUDENT\",\n        payload: {\n          studentIdDrop: studentId,\n          courseIdDrop: courseId\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    style: {\n      display: showDel ? \"flex\" : \"none\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close\",\n      onClick: handlePopupHide,\n      children: \"close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [thisStudent.name, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), thisStudent.courses && thisStudent.courses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clickRemoveCourse\",\n      onClick: e => handleDeleteCourseFromStudent(course._id),\n      children: course.title\n    }, course._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_c = PopupDeleteCourseFromStudent;\nexport default PopupDeleteCourseFromStudent;\nvar _c;\n$RefreshReg$(_c, \"PopupDeleteCourseFromStudent\");","map":{"version":3,"names":["PopupDeleteCourseFromStudent","showDel","setShowDel","thisStudent","setError","setCourseToViewAddDelete","handlePopupHide","studentDispatch","handleDeleteCourseFromStudent","courseId","studentId","_id","response","fetch","method","body","JSON","stringify","headers","json","console","log","ok","error","type","payload","studentIdDrop","courseIdDrop","_jsxDEV","className","style","display","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","courses","map","course","e","title","_c","$RefreshReg$"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/frontend/src/components/popupDeleteCourseFromStudent.js"],"sourcesContent":["const PopupDeleteCourseFromStudent = ({\r\n  showDel,\r\n  setShowDel,\r\n  thisStudent,\r\n  setError,\r\n  setCourseToViewAddDelete,\r\n  handlePopupHide,\r\n  studentDispatch,\r\n}) => {\r\n  const handleDeleteCourseFromStudent = async (courseId) => {\r\n    setCourseToViewAddDelete(courseId);\r\n    const studentId = thisStudent._id;\r\n\r\n    const response = await fetch(`/api/students/deletecourse/${studentId}`, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify({ courseId }),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    const json = await response.json();\r\n    console.log(\"JSON\", json);\r\n\r\n    if (!response.ok) {\r\n      setError(json.error);\r\n    } else {\r\n      setError(null);\r\n      setShowDel(false);\r\n      studentDispatch({\r\n        type: \"DROP_COURSE_STUDENT\",\r\n        payload: { studentIdDrop: studentId, courseIdDrop: courseId },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup\" style={{ display: showDel ? \"flex\" : \"none\" }}>\r\n      <div className=\"close\" onClick={handlePopupHide}>\r\n        close\r\n      </div>\r\n      <h2>{thisStudent.name}:</h2>\r\n      {thisStudent.courses &&\r\n        thisStudent.courses.map((course) => (\r\n          <div\r\n            className=\"clickRemoveCourse\"\r\n            key={course._id}\r\n            onClick={(e) => handleDeleteCourseFromStudent(course._id)}\r\n          >\r\n            {course.title}\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupDeleteCourseFromStudent;\r\n"],"mappings":";;AAAA,MAAMA,4BAA4B,GAAGA,CAAC;EACpCC,OAAO;EACPC,UAAU;EACVC,WAAW;EACXC,QAAQ;EACRC,wBAAwB;EACxBC,eAAe;EACfC;AACF,CAAC,KAAK;EACJ,MAAMC,6BAA6B,GAAG,MAAOC,QAAQ,IAAK;IACxDJ,wBAAwB,CAACI,QAAQ,CAAC;IAClC,MAAMC,SAAS,GAAGP,WAAW,CAACQ,GAAG;IAEjC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,8BAA6BH,SAAU,EAAC,EAAE;MACtEI,MAAM,EAAE,OAAO;MACfC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER;MAAS,CAAC,CAAC;MAClCS,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAChD,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAI,CAAC,CAAC;IAClCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,IAAI,CAAC;IAEzB,IAAI,CAACP,QAAQ,CAACU,EAAE,EAAE;MAChBlB,QAAQ,CAACe,IAAI,CAACI,KAAK,CAAC;IACtB,CAAC,MAAM;MACLnB,QAAQ,CAAC,IAAI,CAAC;MACdF,UAAU,CAAC,KAAK,CAAC;MACjBK,eAAe,CAAC;QACdiB,IAAI,EAAE,qBAAqB;QAC3BC,OAAO,EAAE;UAAEC,aAAa,EAAEhB,SAAS;UAAEiB,YAAY,EAAElB;QAAS;MAC9D,CAAC,CAAC;IACJ;EACF,CAAC;EAED,oBACEmB,OAAA;IAAKC,SAAS,EAAC,OAAO;IAACC,KAAK,EAAE;MAAEC,OAAO,EAAE9B,OAAO,GAAG,MAAM,GAAG;IAAO,CAAE;IAAA+B,QAAA,gBACnEJ,OAAA;MAAKC,SAAS,EAAC,OAAO;MAACI,OAAO,EAAE3B,eAAgB;MAAA0B,QAAA,EAAC;IAEjD;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACNT,OAAA;MAAAI,QAAA,GAAK7B,WAAW,CAACmC,IAAI,EAAC,GAAC;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC3BlC,WAAW,CAACoC,OAAO,IAClBpC,WAAW,CAACoC,OAAO,CAACC,GAAG,CAAEC,MAAM,iBAC7Bb,OAAA;MACEC,SAAS,EAAC,mBAAmB;MAE7BI,OAAO,EAAGS,CAAC,IAAKlC,6BAA6B,CAACiC,MAAM,CAAC9B,GAAG,CAAE;MAAAqB,QAAA,EAEzDS,MAAM,CAACE;IAAK,GAHRF,MAAM,CAAC9B,GAAG;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAIZ,CACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEV,CAAC;AAACO,EAAA,GApDI5C,4BAA4B;AAsDlC,eAAeA,4BAA4B;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}