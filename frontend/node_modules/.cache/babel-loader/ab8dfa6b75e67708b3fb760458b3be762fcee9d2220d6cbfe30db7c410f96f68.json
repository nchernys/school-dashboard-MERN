{"ast":null,"code":"import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PopupUpdateStudent=_ref=>{let{students,studentDispatch,showPopup,setShowPopup,handlePopupHide,studentToUpdate,setStudentToUpdate,setName,setYear,setMajor,name,year,major}=_ref;useEffect(()=>{setName(studentToUpdate.name);setYear(studentToUpdate.year);setMajor(studentToUpdate.major);},[studentToUpdate]);const handleUpdateStudent=async e=>{e.preventDefault();const updatedStudent={name,year,major};const response=await fetch(\"api/students/\".concat(studentToUpdate._id),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(updatedStudent)});const json=await response.json();if(!response.ok){console.log(json.error);}else{setName(\"\");setYear(\"\");setMajor(\"\");studentDispatch({type:\"UPDATE_STUDENT\",payload:json});}setShowPopup(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",style:{display:showPopup?\"flex\":\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"close\",onClick:handlePopupHide,children:\"close\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[studentToUpdate&&studentToUpdate.name,\":\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleUpdateStudent,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setName(e.target.value);},placeholder:\"Name\",value:name}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setYear(e.target.value);},placeholder:\"Birth Year\",value:year}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:e=>{setMajor(e.target.value);},placeholder:\"Major\",value:major}),/*#__PURE__*/_jsx(\"button\",{children:\"Update Student\"})]})]});};export default PopupUpdateStudent;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","PopupUpdateStudent","_ref","students","studentDispatch","showPopup","setShowPopup","handlePopupHide","studentToUpdate","setStudentToUpdate","setName","setYear","setMajor","name","year","major","handleUpdateStudent","e","preventDefault","updatedStudent","response","fetch","concat","_id","method","headers","body","JSON","stringify","json","ok","console","log","error","type","payload","className","style","display","children","onClick","onSubmit","onChange","target","value","placeholder"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/src/components/popupUpdateStudent.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst PopupUpdateStudent = ({\r\n  students,\r\n  studentDispatch,\r\n  showPopup,\r\n  setShowPopup,\r\n  handlePopupHide,\r\n  studentToUpdate,\r\n  setStudentToUpdate,\r\n  setName,\r\n  setYear,\r\n  setMajor,\r\n  name,\r\n  year,\r\n  major,\r\n}) => {\r\n  useEffect(() => {\r\n    setName(studentToUpdate.name);\r\n    setYear(studentToUpdate.year);\r\n    setMajor(studentToUpdate.major);\r\n  }, [studentToUpdate]);\r\n\r\n  const handleUpdateStudent = async (e) => {\r\n    e.preventDefault();\r\n    const updatedStudent = { name, year, major };\r\n    const response = await fetch(`api/students/${studentToUpdate._id}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(updatedStudent),\r\n    });\r\n    const json = await response.json();\r\n    if (!response.ok) {\r\n      console.log(json.error);\r\n    } else {\r\n      setName(\"\");\r\n      setYear(\"\");\r\n      setMajor(\"\");\r\n      studentDispatch({ type: \"UPDATE_STUDENT\", payload: json });\r\n    }\r\n    setShowPopup(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup\" style={{ display: showPopup ? \"flex\" : \"none\" }}>\r\n      <div className=\"close\" onClick={handlePopupHide}>\r\n        close\r\n      </div>\r\n      <h2>{studentToUpdate && studentToUpdate.name}:</h2>\r\n      <form className=\"form\" onSubmit={handleUpdateStudent}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setName(e.target.value);\r\n          }}\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setYear(e.target.value);\r\n          }}\r\n          placeholder=\"Birth Year\"\r\n          value={year}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          onChange={(e) => {\r\n            setMajor(e.target.value);\r\n          }}\r\n          placeholder=\"Major\"\r\n          value={major}\r\n        />\r\n\r\n        <button>Update Student</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupUpdateStudent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}