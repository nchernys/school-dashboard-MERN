{"ast":null,"code":"import{createContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const SchoolContext=/*#__PURE__*/createContext();export const authorizeReducer=(authorizeState,action)=>{switch(action.type){case\"SET_AUTH\":return{authorize:true};case\"REMOVE_AUTH\":return{authorize:false};default:return authorizeState;}};export const globalRoleReducer=(globalRoleState,action)=>{switch(action.type){case\"CREATE_ROLE\":const createGlobalRole=action.payload;return{globalRole:createGlobalRole};case\"SET_ROLE\":return{...globalRoleState,globalRole:action.payload};default:return globalRoleState;}};export const coursesReducer=(courseState,action)=>{switch(action.type){case\"SET_COURSES\":return{...courseState,allCourses:action.payload};case\"CREATE_COURSE\":const newCourse=action.payload;const sortedCourses=[...courseState.allCourses,newCourse].sort((a,b)=>a.title.localeCompare(b.title));return{...courseState,allCourses:sortedCourses};case\"DELETE_COURSE\":const courseIdToDelete=action.payload;const updatedCourses=courseState.allCourses.filter(course=>course._id!==courseIdToDelete._id);return{...courseState,allCourses:updatedCourses};default:return courseState;}};export const studentsReducer=(studentState,action)=>{switch(action.type){case\"SET_STUDENTS\":return{...studentState,students:action.payload};case\"CREATE_STUDENT\":const newStudent=action.payload;const sortedStudents=[...studentState.students,newStudent].sort((a,b)=>a.name.localeCompare(b.name));return{...studentState,students:sortedStudents};case\"DELETE_STUDENT\":const studentIdToDelete=action.payload;const updatedStudents=studentState.students.filter(student=>student._id!==studentIdToDelete._id);return{...studentState,students:updatedStudents};case\"UPDATE_STUDENT\":const updatedStudent=action.payload;const updatedStudentsArray=studentState.students.map(student=>student._id===updatedStudent._id?updatedStudent:student);return{...studentState,students:updatedStudentsArray};case\"ADD_COURSE_STUDENT\":const{studentId,course}=action.payload;const updatedStdCoursesArray=studentState.students.map(student=>student._id===studentId?{...student,courses:student.courses.some(existingCourse=>existingCourse._id===course._id)?[...student.courses]:[...student.courses,course]}:student);return{...studentState,students:updatedStdCoursesArray};case\"DROP_COURSE_STUDENT\":const{studentIdDrop,courseIdDrop}=action.payload;const updatedStdCoursesArrayDrop=studentState.students.map(student=>student._id===studentIdDrop?{...student,courses:student.courses.filter(course=>course._id!==courseIdDrop)}:student);return{...studentState,students:updatedStdCoursesArrayDrop};default:return studentState;}};export const assignmentsReducer=(assignmentState,action)=>{switch(action.type){case\"SET_ASSIGNMENTS\":return{...assignmentState,assignments:action.payload};case\"CREATE_ASSIGNMENT\":const newAssignment=action.payload;const sortedAssignments=[...assignmentState.assignments,newAssignment].sort((a,b)=>a.title.localeCompare(b.title));console.log(\"GOT NEW ASSIGNMENT!\");return{...assignmentState,assignments:sortedAssignments};case\"DELETE_ASSIGNMENT\":const assignmentToDelete=action.payload;const updatedAssignments=assignmentState.assignments.filter(assignment=>assignment._id!==assignmentToDelete);return{...assignmentState,assignments:updatedAssignments};default:return assignmentState;}};export const SchoolContextProvider=_ref=>{let{children}=_ref;const[courseState,courseDispatch]=useReducer(coursesReducer,{allCourses:null});const[studentState,studentDispatch]=useReducer(studentsReducer,{students:null});const[assignmentState,assignmentDispatch]=useReducer(assignmentsReducer,{assignments:null});const[authorizeState,authorizeDispatch]=useReducer(authorizeReducer,{authorize:null});const[globalRoleState,globalRoleDispatch]=useReducer(globalRoleReducer,{globalRole:null});return/*#__PURE__*/_jsx(SchoolContext.Provider,{value:{courseState,courseDispatch,studentState,studentDispatch,assignmentState,assignmentDispatch,authorizeState,authorizeDispatch,globalRoleState,globalRoleDispatch},children:children});};","map":{"version":3,"names":["createContext","useReducer","jsx","_jsx","SchoolContext","authorizeReducer","authorizeState","action","type","authorize","globalRoleReducer","globalRoleState","createGlobalRole","payload","globalRole","coursesReducer","courseState","allCourses","newCourse","sortedCourses","sort","a","b","title","localeCompare","courseIdToDelete","updatedCourses","filter","course","_id","studentsReducer","studentState","students","newStudent","sortedStudents","name","studentIdToDelete","updatedStudents","student","updatedStudent","updatedStudentsArray","map","studentId","updatedStdCoursesArray","courses","some","existingCourse","studentIdDrop","courseIdDrop","updatedStdCoursesArrayDrop","assignmentsReducer","assignmentState","assignments","newAssignment","sortedAssignments","console","log","assignmentToDelete","updatedAssignments","assignment","SchoolContextProvider","_ref","children","courseDispatch","studentDispatch","assignmentDispatch","authorizeDispatch","globalRoleDispatch","Provider","value"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/src/context/schoolContext.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\r\n\r\nexport const SchoolContext = createContext();\r\n\r\nexport const authorizeReducer = (authorizeState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_AUTH\":\r\n      return {\r\n        authorize: true,\r\n      };\r\n    case \"REMOVE_AUTH\":\r\n      return {\r\n        authorize: false,\r\n      };\r\n\r\n    default:\r\n      return authorizeState;\r\n  }\r\n};\r\n\r\nexport const globalRoleReducer = (globalRoleState, action) => {\r\n  switch (action.type) {\r\n    case \"CREATE_ROLE\":\r\n      const createGlobalRole = action.payload;\r\n      return {\r\n        globalRole: createGlobalRole,\r\n      };\r\n\r\n    case \"SET_ROLE\":\r\n      return {\r\n        ...globalRoleState,\r\n        globalRole: action.payload,\r\n      };\r\n\r\n    default:\r\n      return globalRoleState;\r\n  }\r\n};\r\n\r\nexport const coursesReducer = (courseState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_COURSES\":\r\n      return {\r\n        ...courseState,\r\n        allCourses: action.payload,\r\n      };\r\n    case \"CREATE_COURSE\":\r\n      const newCourse = action.payload;\r\n      const sortedCourses = [...courseState.allCourses, newCourse].sort(\r\n        (a, b) => a.title.localeCompare(b.title)\r\n      );\r\n      return {\r\n        ...courseState,\r\n        allCourses: sortedCourses,\r\n      };\r\n\r\n    case \"DELETE_COURSE\":\r\n      const courseIdToDelete = action.payload;\r\n      const updatedCourses = courseState.allCourses.filter(\r\n        (course) => course._id !== courseIdToDelete._id\r\n      );\r\n      return {\r\n        ...courseState,\r\n        allCourses: updatedCourses,\r\n      };\r\n    default:\r\n      return courseState;\r\n  }\r\n};\r\n\r\nexport const studentsReducer = (studentState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_STUDENTS\":\r\n      return {\r\n        ...studentState,\r\n        students: action.payload,\r\n      };\r\n\r\n    case \"CREATE_STUDENT\":\r\n      const newStudent = action.payload;\r\n      const sortedStudents = [...studentState.students, newStudent].sort(\r\n        (a, b) => a.name.localeCompare(b.name)\r\n      );\r\n      return {\r\n        ...studentState,\r\n        students: sortedStudents,\r\n      };\r\n\r\n    case \"DELETE_STUDENT\":\r\n      const studentIdToDelete = action.payload;\r\n      const updatedStudents = studentState.students.filter(\r\n        (student) => student._id !== studentIdToDelete._id\r\n      );\r\n      return {\r\n        ...studentState,\r\n        students: updatedStudents,\r\n      };\r\n\r\n    case \"UPDATE_STUDENT\":\r\n      const updatedStudent = action.payload;\r\n      const updatedStudentsArray = studentState.students.map((student) =>\r\n        student._id === updatedStudent._id ? updatedStudent : student\r\n      );\r\n      return {\r\n        ...studentState,\r\n        students: updatedStudentsArray,\r\n      };\r\n\r\n    case \"ADD_COURSE_STUDENT\":\r\n      const { studentId, course } = action.payload;\r\n      const updatedStdCoursesArray = studentState.students.map((student) =>\r\n        student._id === studentId\r\n          ? {\r\n              ...student,\r\n              courses: student.courses.some(\r\n                (existingCourse) => existingCourse._id === course._id\r\n              )\r\n                ? [...student.courses]\r\n                : [...student.courses, course],\r\n            }\r\n          : student\r\n      );\r\n      return {\r\n        ...studentState,\r\n        students: updatedStdCoursesArray,\r\n      };\r\n\r\n    case \"DROP_COURSE_STUDENT\":\r\n      const { studentIdDrop, courseIdDrop } = action.payload;\r\n      const updatedStdCoursesArrayDrop = studentState.students.map((student) =>\r\n        student._id === studentIdDrop\r\n          ? {\r\n              ...student,\r\n              courses: student.courses.filter(\r\n                (course) => course._id !== courseIdDrop\r\n              ),\r\n            }\r\n          : student\r\n      );\r\n\r\n      return {\r\n        ...studentState,\r\n        students: updatedStdCoursesArrayDrop,\r\n      };\r\n\r\n    default:\r\n      return studentState;\r\n  }\r\n};\r\n\r\nexport const assignmentsReducer = (assignmentState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_ASSIGNMENTS\":\r\n      return {\r\n        ...assignmentState,\r\n        assignments: action.payload,\r\n      };\r\n\r\n    case \"CREATE_ASSIGNMENT\":\r\n      const newAssignment = action.payload;\r\n      const sortedAssignments = [\r\n        ...assignmentState.assignments,\r\n        newAssignment,\r\n      ].sort((a, b) => a.title.localeCompare(b.title));\r\n\r\n      console.log(\"GOT NEW ASSIGNMENT!\");\r\n\r\n      return {\r\n        ...assignmentState,\r\n        assignments: sortedAssignments,\r\n      };\r\n\r\n    case \"DELETE_ASSIGNMENT\":\r\n      const assignmentToDelete = action.payload;\r\n      const updatedAssignments = assignmentState.assignments.filter(\r\n        (assignment) => assignment._id !== assignmentToDelete\r\n      );\r\n      return {\r\n        ...assignmentState,\r\n        assignments: updatedAssignments,\r\n      };\r\n\r\n    default:\r\n      return assignmentState;\r\n  }\r\n};\r\n\r\nexport const SchoolContextProvider = ({ children }) => {\r\n  const [courseState, courseDispatch] = useReducer(coursesReducer, {\r\n    allCourses: null,\r\n  });\r\n  const [studentState, studentDispatch] = useReducer(studentsReducer, {\r\n    students: null,\r\n  });\r\n  const [assignmentState, assignmentDispatch] = useReducer(assignmentsReducer, {\r\n    assignments: null,\r\n  });\r\n  const [authorizeState, authorizeDispatch] = useReducer(authorizeReducer, {\r\n    authorize: null,\r\n  });\r\n\r\n  const [globalRoleState, globalRoleDispatch] = useReducer(globalRoleReducer, {\r\n    globalRole: null,\r\n  });\r\n\r\n  return (\r\n    <SchoolContext.Provider\r\n      value={{\r\n        courseState,\r\n        courseDispatch,\r\n        studentState,\r\n        studentDispatch,\r\n        assignmentState,\r\n        assignmentDispatch,\r\n        authorizeState,\r\n        authorizeDispatch,\r\n        globalRoleState,\r\n        globalRoleDispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </SchoolContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}