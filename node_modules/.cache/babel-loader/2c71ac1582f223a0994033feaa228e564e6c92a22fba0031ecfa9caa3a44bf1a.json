{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chernysn\\\\Documents\\\\GITHUB_COPIES\\\\MERN_school_dashboard\\\\frontend\\\\src\\\\components\\\\popupAddCourseToStudent.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PopupAddCourseToStudent = ({\n  showAdd,\n  allCourses,\n  thisStudent,\n  setCourseToViewAddDelete,\n  setShowAdd,\n  setError,\n  handlePopupHide,\n  studentDispatch\n}) => {\n  const handleLinkCourseToStudent = async courseId => {\n    setCourseToViewAddDelete(courseId);\n    const studentId = thisStudent._id;\n    const studentCourse = {\n      courseId\n    };\n    const response = await fetch(`/api/students/addcourse/${studentId}`, {\n      method: \"PATCH\",\n      body: JSON.stringify(studentCourse),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const json = await response.json();\n    if (!response.ok) {\n      setError(\"THIS IS ERROR\", json.error);\n    } else {\n      setError(null);\n      setShowAdd(false);\n      const course = allCourses.find(course => course._id === courseId);\n      studentDispatch({\n        type: \"ADD_COURSE_STUDENT\",\n        payload: {\n          studentId,\n          course\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    style: {\n      display: showAdd ? \"flex\" : \"none\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close\",\n      onClick: handlePopupHide,\n      children: \"close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [thisStudent.name, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"courses\",\n      id: \"courses\",\n      onChange: e => handleLinkCourseToStudent(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Add a course:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), allCourses && allCourses.map(course => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: course._id,\n        children: course.title\n      }, course._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_c = PopupAddCourseToStudent;\nexport default PopupAddCourseToStudent;\nvar _c;\n$RefreshReg$(_c, \"PopupAddCourseToStudent\");","map":{"version":3,"names":["PopupAddCourseToStudent","showAdd","allCourses","thisStudent","setCourseToViewAddDelete","setShowAdd","setError","handlePopupHide","studentDispatch","handleLinkCourseToStudent","courseId","studentId","_id","studentCourse","response","fetch","method","body","JSON","stringify","headers","json","ok","error","course","find","type","payload","_jsxDEV","className","style","display","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","id","onChange","e","target","value","map","title","_c","$RefreshReg$"],"sources":["C:/Users/chernysn/Documents/GITHUB_COPIES/MERN_school_dashboard/frontend/src/components/popupAddCourseToStudent.js"],"sourcesContent":["const PopupAddCourseToStudent = ({\r\n  showAdd,\r\n  allCourses,\r\n  thisStudent,\r\n  setCourseToViewAddDelete,\r\n  setShowAdd,\r\n  setError,\r\n  handlePopupHide,\r\n  studentDispatch,\r\n}) => {\r\n  const handleLinkCourseToStudent = async (courseId) => {\r\n    setCourseToViewAddDelete(courseId);\r\n    const studentId = thisStudent._id;\r\n    const studentCourse = { courseId };\r\n\r\n    const response = await fetch(`/api/students/addcourse/${studentId}`, {\r\n      method: \"PATCH\",\r\n      body: JSON.stringify(studentCourse),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n\r\n    const json = await response.json();\r\n\r\n    if (!response.ok) {\r\n      setError(\"THIS IS ERROR\", json.error);\r\n    } else {\r\n      setError(null);\r\n      setShowAdd(false);\r\n      const course = allCourses.find((course) => course._id === courseId);\r\n      studentDispatch({\r\n        type: \"ADD_COURSE_STUDENT\",\r\n        payload: { studentId, course },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup\" style={{ display: showAdd ? \"flex\" : \"none\" }}>\r\n      <div className=\"close\" onClick={handlePopupHide}>\r\n        close\r\n      </div>\r\n      <h2>{thisStudent.name}:</h2>\r\n      <select\r\n        name=\"courses\"\r\n        id=\"courses\"\r\n        onChange={(e) => handleLinkCourseToStudent(e.target.value)}\r\n      >\r\n        <option>Add a course:</option>\r\n        {allCourses &&\r\n          allCourses.map((course) => (\r\n            <option key={course._id} value={course._id}>\r\n              {course.title}\r\n            </option>\r\n          ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PopupAddCourseToStudent;\r\n"],"mappings":";;AAAA,MAAMA,uBAAuB,GAAGA,CAAC;EAC/BC,OAAO;EACPC,UAAU;EACVC,WAAW;EACXC,wBAAwB;EACxBC,UAAU;EACVC,QAAQ;EACRC,eAAe;EACfC;AACF,CAAC,KAAK;EACJ,MAAMC,yBAAyB,GAAG,MAAOC,QAAQ,IAAK;IACpDN,wBAAwB,CAACM,QAAQ,CAAC;IAClC,MAAMC,SAAS,GAAGR,WAAW,CAACS,GAAG;IACjC,MAAMC,aAAa,GAAG;MAAEH;IAAS,CAAC;IAElC,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,2BAA0BJ,SAAU,EAAC,EAAE;MACnEK,MAAM,EAAE,OAAO;MACfC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,aAAa,CAAC;MACnCO,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB;IAChD,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAI,CAAC,CAAC;IAElC,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;MAChBhB,QAAQ,CAAC,eAAe,EAAEe,IAAI,CAACE,KAAK,CAAC;IACvC,CAAC,MAAM;MACLjB,QAAQ,CAAC,IAAI,CAAC;MACdD,UAAU,CAAC,KAAK,CAAC;MACjB,MAAMmB,MAAM,GAAGtB,UAAU,CAACuB,IAAI,CAAED,MAAM,IAAKA,MAAM,CAACZ,GAAG,KAAKF,QAAQ,CAAC;MACnEF,eAAe,CAAC;QACdkB,IAAI,EAAE,oBAAoB;QAC1BC,OAAO,EAAE;UAAEhB,SAAS;UAAEa;QAAO;MAC/B,CAAC,CAAC;IACJ;EACF,CAAC;EAED,oBACEI,OAAA;IAAKC,SAAS,EAAC,OAAO;IAACC,KAAK,EAAE;MAAEC,OAAO,EAAE9B,OAAO,GAAG,MAAM,GAAG;IAAO,CAAE;IAAA+B,QAAA,gBACnEJ,OAAA;MAAKC,SAAS,EAAC,OAAO;MAACI,OAAO,EAAE1B,eAAgB;MAAAyB,QAAA,EAAC;IAEjD;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACNT,OAAA;MAAAI,QAAA,GAAK7B,WAAW,CAACmC,IAAI,EAAC,GAAC;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5BT,OAAA;MACEU,IAAI,EAAC,SAAS;MACdC,EAAE,EAAC,SAAS;MACZC,QAAQ,EAAGC,CAAC,IAAKhC,yBAAyB,CAACgC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;MAAAX,QAAA,gBAE3DJ,OAAA;QAAAI,QAAA,EAAQ;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAC7BnC,UAAU,IACTA,UAAU,CAAC0C,GAAG,CAAEpB,MAAM,iBACpBI,OAAA;QAAyBe,KAAK,EAAEnB,MAAM,CAACZ,GAAI;QAAAoB,QAAA,EACxCR,MAAM,CAACqB;MAAK,GADFrB,MAAM,CAACZ,GAAG;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEf,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACS,EAAA,GAzDI9C,uBAAuB;AA2D7B,eAAeA,uBAAuB;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}